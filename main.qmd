---
title: "Documento de Matemática Discreta"
author: "Lorenn"
date: "2023-10-05"
format: pdf
---

```{r echo = FALSE, warning = FALSE, message = FALSE}
# Carga de librerías
library(plotly)
library(dplyr)
library(tidyverse)

# Claves de APIs
mapbox_token <- "pk.eyJ1IjoibG9yZW5uem8iLCJhIjoiY20xcHYyd3g2MDk0bTJxb2k4YWZvOHlmcSJ9.r4E2pcTSM89NNHBFSmvKHw"

# Cargamos los datos
data <- read_csv("data/df_geo.csv", show_col_types = FALSE)
```

# Resumen

Se cuenta lo que se hizo

```{r echo = FALSE, warning = FALSE}
# Crea el gráfico con plotly y mapbox
fig <- plot_ly(data = data, 
               type = 'scattermapbox',
               lat = ~latitud,
               lon = ~longitud,
               mode = 'markers',
               marker = list(size = 8, color = 'blue', opacity = 0.7),
               text = ~paste("Cliente:", cliente))  # Puedes personalizar el texto que aparece al pasar el cursor

fig <- fig %>%
  layout(
    mapbox = list(
      style = "streets",
      accesstoken = mapbox_token,
      center = list(lat = mean(data$latitud),
                    lon = mean(data$longitud)),
      zoom = 12  # Ajusta el nivel de zoom
    ),
    title = "Mapa de Puntos de Entrega"
  )

# Muestra el gráfico
fig
```

```{r}
# Definir la cantidad de puntos a mostrar
N <- 10  # Puedes ajustar este valor para mostrar N entregas
data <- data[1:N, ]  # Seleccionar las primeras N entregas

# Crear un vector de colores en función del cliente
data$color <- ifelse(data$cliente == 70, "blue", "red")
```

# Introducción

Estado del arte del tema trabajos

# Teoría

Explica las herramientas usadas, graficos

![Primeras 20 entregas del día unidas cronológicamente con su consecuente](images/grafico1.png)

# Resultados

Texto, graficos

# Conclusiónes

# Apéndice

Bibliografia en formato: \[1\] Autor, titulo, revista, año
